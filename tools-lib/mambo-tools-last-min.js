(()=>{var L=($,a)=>()=>($&&(a=$($=0)),a);var _={};var j=L(()=>{window.tools.api=new function(a){"use strict";let M;this.get=p,this.post=l,this.getFile=h,this.getJSON=O,this.getText=Y,k();async function h(i){return await fetch(`http://localhost:8000/getFile?path=${i}`).then(t=>t.text())}function g(i){return s("GET","http://localhost:8000/getFile?",{data:{path:i}})}function Y(i){return s("GET",i)}function O(i){return s("GET",i,{responseType:"json"})}function p(i,t){return s("GET",i,t)}function l(i,t){return s("POST",i,t)}function s(i,t,D){let E=mambo.utils.extend(!0,M,D);return new Promise((b,n)=>{let c=new XMLHttpRequest;F(c),c.onreadystatechange=function(y){c.readyState===4&&(c.status===200?b(c.response):n(c))},c.open(i,t),m(c,E),c.send(v(E.data))})}function m(i,t){t.contentType&&i.setRequestHeader("Content-type",t.contentType),t.crossOrigin&&(i.withCredentials=!0),i.responseType=t.responseType}function v(i){return i===null?null:mambo.utils.isObject(i)?S(i):i}function R(i,t){let D=i.split("?"),E=D[0],b=D.length>1?"?"+D[1]:"",n=D.length>1?"&":"?",c=v(t);return c!==null&&(b+=n+c),E+b}function F(i){if(!a||!a.events)return;let t=a.events.loadstart;t&&typeof t=="function"&&i.addEventListener("loadstart",t),t=a.events.load,t&&typeof t=="function"&&i.addEventListener("load",t),t=a.events.loadend,t&&typeof t=="function"&&i.addEventListener("loadend",t),t=a.events.progress,t&&typeof t=="function"&&i.addEventListener("progress",t),t=a.events.error,t&&typeof t=="function"&&i.addEventListener("error",t),t=a.events.abort,t&&typeof t=="function"&&i.addEventListener("abort",t)}function S(i){let t="",D=Object.keys(i);for(let E of D){let b=encodeURIComponent(E)+"="+encodeURIComponent(i[E]);t===""?t+=b:t+="&"+b}return t===""?null:t}function k(){M={responseType:"",contentType:"application/x-www-form-urlencoded; charset=UTF-8",crossOrigin:!1,data:null},a&&(M=mambo.utils.extend(!0,M,a))}}});var K={};var q=L(()=>{window.tools.date=new function(){"use strict";let a=this,M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];this.add=R,this.cloneDate=c,this.createDate=p,this.createInterval=F,this.endOf=n,this.format=O,this.getDate=S,this.getDayName=m,this.getToday=Y,this.isAfter=t,this.isSameOrAfter=D,this.isBefore=k,this.isSame=E,this.isSameOrBefore=i,this.isDate=d,this.startOf=b;function Y(){let e=new Date;return e.setHours(0,0,0,0),e}function O(e,o){if(!d(e)||!A(o))return"";let w=o.match(M),f="";return w.forEach(I=>{let r="";switch(I){case"H":r=l(e,!1);break;case"HH":r=y(l(e,!1),2);break;case"h":r=l(e,!0);break;case"hh":r=y(l(e,!0),2);break;case"m":r=e.getMinutes();break;case"mm":r=y(e.getMinutes(),2);break;case"a":r=s(e);break;case"A":r=s(e).toUpperCase();break;case"D":r=e.getDate();break;case"DD":r=y(e.getDate(),2);break;case"ddd":r=m(e.getDay()).substring(0,3);break;case"dddd":r=m(e.getDay());break;case"M":r=e.getMonth()+1;break;case"MM":r=y(e.getMonth()+1,2);break;case"MMM":r=v(e.getMonth()).substring(0,3);break;case"MMMM":r=v(e.getMonth());break;case"YY":r=e.getFullYear().toString().slice(-2);break;case"YYYY":r=e.getFullYear();break;default:r=I}f+=r}),f}function p(e,o){if(!A(e)||!A(o))return null;let w=0,f={y:0,M:0,d:1,h:0,m:0,s:0,ms:0},I=o.match(M),r=0,u=e;for(let T=0,N=I.length;T<N;T++){let P=I[T];switch(P){case"H":if(/^(1\d|2[0-3])$/g.test(u.substring(0,2)))r=2;else if(/^(\d)$/g.test(u.substring(0,1)))r=1;else return null;f.h=parseInt(u.substring(0,r));break;case"HH":if(/^([0-1]\d|2[0-3])$/g.test(u.substring(0,2)))r=2;else return null;f.h=parseInt(u.substring(0,r));break;case"h":if(/^(1[0-2])$/g.test(u.substring(0,2)))r=2;else if(/^(\d)$/g.test(u.substring(0,1)))r=1;else return null;f.h=parseInt(u.substring(0,r));break;case"hh":if(/^([0]\d|1[0-2])$/g.test(u.substring(0,2)))r=2;else return null;f.h=parseInt(u.substring(0,r));break;case"m":if(/^([1-5]\d)$/g.test(u.substring(0,2)))r=2;else if(/^(\d)$/g.test(u.substring(0,1)))r=1;else return null;f.m=parseInt(u.substring(0,r));break;case"mm":if(/^([0-5]\d)$/g.test(u.substring(0,2)))r=2;else return null;f.m=parseInt(u.substring(0,r));break;case"a":case"A":/^(am)$/ig.test(u.substring(0,2))?(r=2,f.h=f.h===12?0:f.h):/^(pm)$/ig.test(u.substring(0,2))?(r=2,f.h=f.h<12?f.h+12:f.h):r=0;break;case"D":if(/^([1-2]\d|3[0-1])$/g.test(u.substring(0,2)))r=2;else if(/^([1-9])$/g.test(u.substring(0,1)))r=1;else return null;f.d=parseInt(u.substring(0,r));break;case"DD":if(/^(0[1-9]|[1-2]\d|3[0-1])$/g.test(u.substring(0,2)))r=2;else return null;f.d=parseInt(u.substring(0,r));break;case"M":if(/^(1[0-2])$/g.test(u.substring(0,2)))r=2;else if(/^([1-9])$/g.test(u.substring(0,1)))r=1;else return null;f.M=parseInt(u.substring(0,r))-1;break;case"MM":if(/^(0[1-9]|1[0-2])$/g.test(u.substring(0,2)))r=2;else return null;f.M=parseInt(u.substring(0,r))-1;break;case"MMM":if(w=g.findIndex(C=>C.toUpperCase()===u.substring(0,3).toUpperCase()),w<0)return null;r=3,f.M=w;break;case"MMMM":if(w=g.findIndex(C=>C.toUpperCase()===u.substring(0,C.length).toUpperCase()),w<0)return null;r=g[w].length,f.M=w;break;case"YY":if(/^(\d{2})$/g.test(u.substring(0,2)))r=2;else return null;f.y=parseInt(u.substring(0,r));break;case"YYYY":if(/^(\d{4})$/g.test(u.substring(0,4)))r=4;else return null;f.y=parseInt(u.substring(0,r));break;default:r=P.length;break}u=u.slice(r)}return new Date(f.y,f.M,f.d,f.h,f.m,f.s,f.ms)}function l(e,o){let w=e.getHours();return o&&(w=w%12,w=w||12),w}function s(e){return e.getHours()>=12?"pm":"am"}function m(e){return h[e]}function v(e){return g[e]}function R(e,o,w){if(!d(e)||!H(o)||!A(w))return e;switch(w){case"minutes":case"m":e.setMinutes(e.getMinutes()+o);break;case"hours":case"h":e.setHours(e.getHours()+o);break;case"days":case"d":e.setDate(e.getDate()+o);break;case"months":case"M":e.setMonth(e.getMonth()+o);break;case"years":case"Y":e.setFullYear(e.getFullYear()+o);break}return a}function F(e,o,w,f,I){if(!H(e)||!A(o)||!d(w)||!d(f))return[];let r=I?N=>O(N,I):N=>N,u=[],T=w;for(;k(T,f);)u.push(r(T)),R(T,e,o);return u}function S(e,o){let w=d(e)?O(e,o):e;return p(w,o)}function k(e,o){return e<o}function i(e,o){return e<=o}function t(e,o){return e>o}function D(e,o){return e>=o}function E(e,o){return e.getTime()===o.getTime()}function b(e,o){if(!d(e)||!A(o))return e;switch(o){case"week":case"w":R(e,-e.getDay(),"d");break;case"month":case"M":R(e,-e.getDate()+1,"d");break;case"year":case"Y":b(e,"M").add(e,-e.getMonth(),"M");break;case"decade":b(e,"Y").add(e,-(e.getFullYear()%10),"Y");break;case"century":b(e,"decade").add(e,-(e.getFullYear()%100),"Y");break}return a}function n(e,o){if(!d(e)||!A(o))return e;switch(o){case"month":case"M":b(e,"M").add(e,1,"M").add(e,-1,"d");break;case"year":case"Y":b(e,"Y").add(e,1,"Y").add(e,-1,"d");break;case"decade":b(e,"decade").add(e,10,"Y").add(e,-1,"d");break;case"century":b(e,"century").add(e,100,"Y").add(e,-1,"d");break}return a}function c(e){return d(e)?new Date(e.getTime()):null}function y(e,o){return("0"+e).slice(-o)}function d(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function A(e){return typeof e=="string"||e instanceof String||Object.prototype.toString.call(e)==="[object String]"}function H(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}}});var Q={};function z(){this.events={testEvent:"testEvent"}}var U=L(()=>{window.tools.event=new function(){let M=new z().events,h={};this.addEventListener=g,this.fireEvent=Y,this.removeEventListener=O,p();function g(l,s,m){s in h?typeof m=="function"?h[s][l]?alert(`ScEvents: event listener "${l}" already exists. Please provide a listener with a unique name.`):h[s][l]=m:alert(`ScEvents: event listener "${l}" didn't provide a valid function type as a call back.`):alert(`ScEvents: event "${s}" does not exist. Please check available events in component ScEventsLibrary.`)}function Y(l,s){if(l&&s){let m=h[l];if(m)for(let v in m)v in m&&m[v](s)}}function O(l,s){l&&s&&delete h[s][l]}function p(){for(let l in M)l in M&&(h[l]={})}}});var W={};var x=L(()=>{window.tools.history=function(a){"use strict";this.clearState=O,this.pushState=Y,this.replaceState=p,this.go=l,this.back=s,this.forward=m;let M=new Event("popstate"),h=new Event("locationchange"),g=this;R(),F();function Y(S,k,i){v(k),history.pushState(S,k,i),window.dispatchEvent(M)}function O(S,k){v(k),history.replaceState({path:"/"},k,"/"),window.dispatchEvent(M)}function p(S,k,i){v(k),history.replaceState(S,k,i),window.dispatchEvent(M)}function l(S){history.go(S)}function s(){history.back()}function m(){history.forward()}function v(S){let k=dom.getTag("title","head");S&&k&&(k.innerText=S)}function R(){window.addEventListener("popstate",S=>{window.dispatchEvent(h)})}function F(){history.state===null?p(a,"",a):window.dispatchEvent(h)}}});var Z={};var G=L(()=>{window.tools.object=new function(){"use strict";let a={};this.get=h=>a[h],this.save=M,this.remove=h=>delete a[h],this.getLibrary=()=>a,this.clearLibrary=()=>a={};function M(h,g){let Y=g||h.constructor.name;a[Y]=h}}});var X={};var B=L(()=>{window.tools.router=new function(){let a=this;window.addEventListener("locationchange",n=>{E()});let M={name:"",path:"",from:{name:"",path:""},to:{name:"",path:""},params:{},query:""},h,g=[];this.add=Y,this.back=F,this.current=M,this.go=k,this.hash="",this.next=S,this.push=i,this.replace=t,this.routes=l;function Y(n){if(n.constructor.name==="Array"&&n.length){if(!p(n)||!O(n))return;n.forEach(c=>{if(c.constructor.name==="Object"){let y=!1;g.forEach(d=>{(d.path===c.path||d.alias===c.path)&&(y=!0)}),y||g.push(c)}})}}function O(n){let c=[...new Map(n.map(d=>[d.name,d])).values()],y=[...new Map(n.map(d=>[d.path,d])).values()];return c.length<n.length||y.length<n.length?(mambo.develop&&alert("MamboRouter: .routes() no duplicate name or path parameter in route object"),!1):!0}function p(n){return n.every(y=>y.constructor.name==="Object"&&"path"in y&&typeof y.path=="string"&&y.path.trim()!=="")?!0:(mambo.develop&&alert("MamboRouter: .routes() expected an object with valid path"),!1)}function l(n){if(!n)return g;if(g.length>0){Y(n);return}if(Array.isArray(n)&&n.length){if(!p(n)||!O(n))return;g=n.concat(g),h||s();return}mambo.develop&&alert("MamboRouter: .routes() expected an Array object")}function s(){let{matched:n,path:c}=R({path:location.pathname});n?h=new tools.history(c):mambo.develop&&alert("MamboRouter: No initial route matched")}function m(n){return n.path===a.current.path}function v(n,c){if(!g.length)return mambo.develop&&alert("MamboRouter: .routes() is empty. Please, set a route"),!1;if(n&&n.constructor.name==="Object"){let y=[{name:"path",type:"String"},{name:"name",type:"String"},{name:"params",type:"Object"},{name:"query",type:"String"},{name:"hash",type:"String"}],d=[];return Object.entries(n).every(H=>{let e=y.filter(o=>o.name===H[0]&&o.type===H[1].constructor.name);return e.length||d.push(H),e.length>0})?!0:(mambo.develop&&alert(`MamboRouter: ${d} is not valid in ${c}(${JSON.stringify(n)})`),!1)}return mambo.develop&&alert(`MamboRouter: .${c}() expected a valid Object `),!1}function R(n){let c=g.find(d=>d.path===n.path||d.path+"/"===n.path||d.name===n.name);if(c)return{matched:!0,path:c.path};if(n.path){let d=g.find(A=>A.alias===n.path||A.alias===n.path+"/");if(d)return{matched:!0,path:d.alias}}let y=g.find(d=>d.notfound);return y?{matched:!0,path:y.path}:(mambo.develop&&alert(`MamboRouter: ${JSON.stringify(n)} route do not exist`),{matched:!1})}function F(){h.back()}function S(){h.forward()}function k(n){if(!Number.isInteger(n)){mambo.develop&&alert("MamboRouter: .go() expected a integer number");return}h.go(n)}function i(n){if(v(n,"push")){if(m(n))return;let{matched:c,path:y}=R(n);c&&(b(n,!0),h.pushState(y,"",y))}}function t(n){h.replaceState(n,"",n.path)}function D(){a.current.hasOwnProperty("action")&&(a.current.action.constructor.name==="Function"?a.current.action():mambo.develop&&alert("MamboRouter: action should be a function "))}function E(){let n=g.find(c=>c.path===history.state||c.alias===history.state);b(n),D()}function b(n,c){c&&(a.current=M),a.current=tools.utils.extend(!0,a.current,n)}}});var ee={};var J=L(()=>{window.tools.string=new function(){"use strict";let a=this;this.filterArray=M,this.findInArray=h,this.getSearchFunction=g;function M(p,l,s,m){let v=g(m);return p.filter(R=>v(s(R),l))}function h(p,l,s,m){let v=g(m);return p.find(R=>v(s(R),l))}function g(p){switch(p){case"contains":return Y;case"equals":return O;default:return()=>!0}}function Y(p,l){return p.toLowerCase().includes(l.toLowerCase())}function O(p,l){return p.toLowerCase()===l.toLowerCase()}}});var te={};var V=L(()=>{window.tools.utils=new function(){"use strict";this.clone=h,this.extend=a,this.formatPercentage=l,this.getUniqueId=M,this.isArray=Y,this.isNumber=p,this.isObject=g,this.isString=O;function a(){let s={},m=!1,v=0,R=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(m=arguments[0],v++);function F(i){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(m&&g(i[t])?s[t]=a(!0,s[t],i[t]):m&&Y(i[t])?S(i[t],s,t):s[t]=i[t])}function S(i,t,D){t[D]=[],i.forEach((E,b)=>{m&&g(E)?t[D][b]=a(!0,t[D][b],E):m&&Y(E)?S(E,t[D],b):t[D][b]=E})}for(;v<R;v++){var k=arguments[v];F(k)}return s}function M(s){return s=s&&!isNaN(s)?s:1e5,Math.floor(Math.random()*s)}function h(s){return a(!0,{},s)}function g(s){return Object.prototype.toString.call(s)==="[object Object]"}function Y(s){return Object.prototype.toString.call(s)==="[object Array]"}function O(s){return typeof s=="string"||s instanceof String||Object.prototype.toString.call(s)==="[object String]"}function p(s){return typeof s=="number"&&s===s&&s!==1/0&&s!==-1/0}function l(s,m=0){return p(s)?(s*100).toFixed(m)+"%":""}}});window.mambo||(window.mambo={develop:!1});window.tools||(window.tools={},Promise.resolve().then(()=>j()),Promise.resolve().then(()=>q()),Promise.resolve().then(()=>U()),Promise.resolve().then(()=>x()),Promise.resolve().then(()=>G()),Promise.resolve().then(()=>B()),Promise.resolve().then(()=>J()),Promise.resolve().then(()=>(V(),te)));})();
//# sourceMappingURL=mambo-tools-last-min.js.map
