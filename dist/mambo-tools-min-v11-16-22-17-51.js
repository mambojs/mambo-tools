/******************************************
*  Copyright 2022 Alejandro Sebastian Scotti, Scotti Corp.
*
*  Licensed under the Apache License, Version 2.0 (the "License");
*  you may not use this file except in compliance with the License.
*  You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
*  Unless required by applicable law or agreed to in writing, software
*  distributed under the License is distributed on an "AS IS" BASIS,
*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*  See the License for the specific language governing permissions and
*  limitations under the License.

*  @author Alejandro Sebastian Scotti
*  @version v11-16-22-17-51
*******************************************/
function mamboTools() { const tools = {class:{}};
tools.class.APIManager=function(v){let m,h,f={};this.delete=F,this.get=d,this.getCache=s,this.getFile=D,this.getFileContent=p,this.getJSON=i,this.getXML=y,this.head=E,this.patch=P,this.post=C,this.postJSON=A,this.put=x,u();async function F(n,t){let r={method:"DELETE"};return delete t?.method,r=tools.utils().extend(!0,r,t),M(await g(n,r),{response:!0})}async function d(n,t){let r={url:n};return delete t?.method,r=tools.utils().extend(!0,r,t),M(await g(n,r),{response:!0})}async function D(n,t){let r={};delete t?.method,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return M(await g(n,r,c),{...t,url:n},"blob",c)}async function p(n,t){let r={};delete t?.method,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return M(await g(n,r,c),{...t,url:n},"text",c)}async function i(n,t){let r={headers:{Accept:"application/json"}};delete t?.method,delete t?.headers?.Accept,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return M(await g(n,r,c),{...t,url:n},"json",c)}async function y(n,t){let r={headers:{Accept:"application/xml"}};delete t?.method,delete t?.headers?.Accept,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return M(await g(n,r,c),{...t,url:n},"xml",c)}async function E(n,t){let r={method:"HEAD"};return delete t?.method,r=tools.utils().extend(!0,r,t),M(await g(n,r),{response:!0})}async function P(n,t){let r={method:"PATCH"};return tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,r=tools.utils().extend(!0,r,t),M(await g(n,r),{response:!0})}async function C(n,t){let r={method:"POST"};return tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,r=tools.utils().extend(!0,r,t),M(await g(n,r),{response:!0})}async function A(n,t){let r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}};tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,delete t?.headers?.Accept,delete t?.headers?.["Content-Type"],delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return M(await g(n,r,c),{...t,url:n},"json",c)}async function x(n,t){let r={method:"PUT"};return tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,r=tools.utils().extend(!0,r,t),M(await g(n,r),{response:!0})}async function M(n,t,r,c){let j,N;if(n&&(j=n.clone()),a(n,t.url,c).catch(R=>O("api_error",R)),k(t.url,c))return _(t.url,c);if(t?.response)return j;if(r==="json")return N=n.ok?$(t?.format,j):{},o(t,c,N),N;if(r==="blob")return N=n.ok?j.blob():{},o(t,c,N),N;if(r==="text")return N=n.ok?j.text():{},o(t,c,N),N;if(r==="xml")return N=n.ok?I(t?.format,j):new DOMParser().parseFromString("","text/xml"),o(t,c,N),N}async function g(n,t,r){let c={url:n,options:{method:"GET",signal:AbortSignal.timeout(m.timeout)}};if(delete t?.signal,c=tools.utils().extend(!0,c,{options:t}),w(t),l(t.cached,n),!(r&&k(n,r)))try{return await H(c)}catch(j){return L(j)}}async function H({url:n,options:t}){O("api_loadstart",!0);let r=await fetch(n,t),c=await L(r);return c||r}function L(n){return new Promise((t,r)=>{if(n.name){let c={statusText:n.message,ok:!1,status:404};t(new Response("Error",c))}n.ok?t(!1):t(n)})}async function I(n,t){return n==="string"?(await t.text()).replace(/[\u00A0-\u9999<>\&]/g,function(c){return"&#"+c.charCodeAt(0)+";"}):n==="xml"?new DOMParser().parseFromString(await t.text(),"text/xml"):t.text()}async function $(n,t){return n==="string"?JSON.stringify(await t.json()):n==="pretty"?JSON.stringify(await t.json(),null,2):t.json()}async function a(n,t,r){let c=!1,j={loaded:0,total:0,percentage:100,complete:!0,content:null,cancel:()=>{h.remove(),c=!0}};if(k(t,r)){O("api_progress",j),O("api_load",!0);return}let N=n.body.getReader(),R=n.headers.get("Content-Length")||0,T=0,q=[];for(;;){let{done:J,value:U}=await N.read();if(J||c){j.complete=J,O("api_progress",j),O("api_load",!0),h.remove();break}q.push(U),T+=U.length,R===0&&(R=T),j.loaded=T,j.total=R,j.percentage=T/R*100,j.complete=J,j.content=q,O("api_progress",j)}}function w(n){h=document.createElement("div"),n?.events&&n.events(b()),O("api_loadstart",!1),O("api_load",!1)}function b(){let n=["api_error","api_load","api_loadstart","api_progress"],t={};return n.forEach(r=>{let c=r.split("_")[1];t[c]=j=>{Y(r,N=>j(N))}}),t}function Y(n,t){h.addEventListener(n,r=>t(r.detail))}function O(n,t){h.dispatchEvent(new CustomEvent(n,{detail:t}))}function e(n,t){return btoa(n+JSON.stringify(t))}function o(n,t,r){(m.cache&&n.cached!==!1||n.cached===!0)&&(f[n.url]||(f[n.url]={}),f[n.url][t]=r)}function k(n,t){return!!(f[n]&&f[n][t])}function l(n,t){n===!1&&f[t]&&delete f[t]}function _(n,t){return f[n][t]}function s(){return f}function u(){m={timeout:5e3},v&&(m=tools.utils().extend(!0,m,v))}},tools.api=S=>new tools.class.APIManager(S);tools.class.DateManager=function(){let v=this,m=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"];this.add=P,this.cloneDate=a,this.createDate=D,this.createInterval=C,this.endOf=$,this.format=d,this.getDate=A,this.getDayName=y,this.getToday=F,this.isAfter=g,this.isSameOrAfter=H,this.isBefore=x,this.isSame=L,this.isSameOrBefore=M,this.isDate=b,this.startOf=I;function F(){let e=new Date;return e.setHours(0,0,0,0),e}function d(e,o){if(!b(e)||!Y(o))return"";let k=o.match(m),l="";return k.forEach(_=>{let s="";switch(_){case"H":s=p(e,!1);break;case"HH":s=w(p(e,!1),2);break;case"h":s=p(e,!0);break;case"hh":s=w(p(e,!0),2);break;case"m":s=e.getMinutes();break;case"mm":s=w(e.getMinutes(),2);break;case"a":s=i(e);break;case"A":s=i(e).toUpperCase();break;case"D":s=e.getDate();break;case"DD":s=w(e.getDate(),2);break;case"ddd":s=y(e.getDay()).substring(0,3);break;case"dddd":s=y(e.getDay());break;case"M":s=e.getMonth()+1;break;case"MM":s=w(e.getMonth()+1,2);break;case"MMM":s=E(e.getMonth()).substring(0,3);break;case"MMMM":s=E(e.getMonth());break;case"YY":s=e.getFullYear().toString().slice(-2);break;case"YYYY":s=e.getFullYear();break;default:s=_}l+=s}),l}function D(e,o){if(!Y(e)||!Y(o))return null;let k=0,l={y:0,M:0,d:1,h:0,m:0,s:0,ms:0},_=o.match(m),s=0,u=e;for(let n=0,t=_.length;n<t;n++){let r=_[n];switch(r){case"H":if(/^(1\d|2[0-3])$/g.test(u.substring(0,2)))s=2;else if(/^(\d)$/g.test(u.substring(0,1)))s=1;else return null;l.h=parseInt(u.substring(0,s));break;case"HH":if(/^([0-1]\d|2[0-3])$/g.test(u.substring(0,2)))s=2;else return null;l.h=parseInt(u.substring(0,s));break;case"h":if(/^(1[0-2])$/g.test(u.substring(0,2)))s=2;else if(/^(\d)$/g.test(u.substring(0,1)))s=1;else return null;l.h=parseInt(u.substring(0,s));break;case"hh":if(/^([0]\d|1[0-2])$/g.test(u.substring(0,2)))s=2;else return null;l.h=parseInt(u.substring(0,s));break;case"m":if(/^([1-5]\d)$/g.test(u.substring(0,2)))s=2;else if(/^(\d)$/g.test(u.substring(0,1)))s=1;else return null;l.m=parseInt(u.substring(0,s));break;case"mm":if(/^([0-5]\d)$/g.test(u.substring(0,2)))s=2;else return null;l.m=parseInt(u.substring(0,s));break;case"a":case"A":/^(am)$/gi.test(u.substring(0,2))?(s=2,l.h=l.h===12?0:l.h):/^(pm)$/gi.test(u.substring(0,2))?(s=2,l.h=l.h<12?l.h+12:l.h):s=0;break;case"D":if(/^([1-2]\d|3[0-1])$/g.test(u.substring(0,2)))s=2;else if(/^([1-9])$/g.test(u.substring(0,1)))s=1;else return null;l.d=parseInt(u.substring(0,s));break;case"DD":if(/^(0[1-9]|[1-2]\d|3[0-1])$/g.test(u.substring(0,2)))s=2;else return null;l.d=parseInt(u.substring(0,s));break;case"M":if(/^(1[0-2])$/g.test(u.substring(0,2)))s=2;else if(/^([1-9])$/g.test(u.substring(0,1)))s=1;else return null;l.M=parseInt(u.substring(0,s))-1;break;case"MM":if(/^(0[1-9]|1[0-2])$/g.test(u.substring(0,2)))s=2;else return null;l.M=parseInt(u.substring(0,s))-1;break;case"MMM":if(k=f.findIndex(c=>c.toUpperCase()===u.substring(0,3).toUpperCase()),k<0)return null;s=3,l.M=k;break;case"MMMM":if(k=f.findIndex(c=>c.toUpperCase()===u.substring(0,c.length).toUpperCase()),k<0)return null;s=f[k].length,l.M=k;break;case"YY":if(/^(\d{2})$/g.test(u.substring(0,2)))s=2;else return null;l.y=parseInt(u.substring(0,s));break;case"YYYY":if(/^(\d{4})$/g.test(u.substring(0,4)))s=4;else return null;l.y=parseInt(u.substring(0,s));break;default:s=r.length;break}u=u.slice(s)}return new Date(l.y,l.M,l.d,l.h,l.m,l.s,l.ms)}function p(e,o){let k=e.getHours();return o&&(k=k%12,k=k||12),k}function i(e){return e.getHours()>=12?"pm":"am"}function y(e){return h[e]}function E(e){return f[e]}function P(e,o,k){if(!b(e)||!O(o)||!Y(k))return e;switch(k){case"minutes":case"m":e.setMinutes(e.getMinutes()+o);break;case"hours":case"h":e.setHours(e.getHours()+o);break;case"days":case"d":e.setDate(e.getDate()+o);break;case"months":case"M":e.setMonth(e.getMonth()+o);break;case"years":case"Y":e.setFullYear(e.getFullYear()+o);break}return v}function C(e,o,k,l,_){if(!O(e)||!Y(o)||!b(k)||!b(l))return[];let s=_?t=>d(t,_):t=>t,u=[],n=k;for(;x(n,l);)u.push(s(n)),P(n,e,o);return u}function A(e,o){let k=b(e)?d(e,o):e;return D(k,o)}function x(e,o){return e<o}function M(e,o){return e<=o}function g(e,o){return e>o}function H(e,o){return e>=o}function L(e,o){return e.getTime()===o.getTime()}function I(e,o){if(!b(e)||!Y(o))return e;switch(o){case"week":case"w":P(e,-e.getDay(),"d");break;case"month":case"M":P(e,-e.getDate()+1,"d");break;case"year":case"Y":I(e,"M").add(e,-e.getMonth(),"M");break;case"decade":I(e,"Y").add(e,-(e.getFullYear()%10),"Y");break;case"century":I(e,"decade").add(e,-(e.getFullYear()%100),"Y");break}return v}function $(e,o){if(!b(e)||!Y(o))return e;switch(o){case"month":case"M":I(e,"M").add(e,1,"M").add(e,-1,"d");break;case"year":case"Y":I(e,"Y").add(e,1,"Y").add(e,-1,"d");break;case"decade":I(e,"decade").add(e,10,"Y").add(e,-1,"d");break;case"century":I(e,"century").add(e,100,"Y").add(e,-1,"d");break}return v}function a(e){return b(e)?new Date(e.getTime()):null}function w(e,o){return("0"+e).slice(-o)}function b(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Y(e){return typeof e=="string"||e instanceof String||Object.prototype.toString.call(e)==="[object String]"}function O(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}},tools.date=S=>new tools.class.DateManager(S);tools.class.EventManager=function(){let m=new B().events,h={};this.addEventListener=f,this.fireEvent=F,this.removeEventListener=d,D();function f(p,i,y){i in h?typeof y=="function"?h[i][p]?alert(`ScEvents: event listener "${p}" already exists. Please provide a listener with a unique name.`):h[i][p]=y:alert(`ScEvents: event listener "${p}" didn't provide a valid function type as a call back.`):alert(`ScEvents: event "${i}" does not exist. Please check available events in component ScEventsLibrary.`)}function F(p,i){if(p&&i){let y=h[p];if(y)for(let E in y)E in y&&y[E](i)}}function d(p,i){p&&i&&delete h[i][p]}function D(){for(let p in m)p in m&&(h[p]={})}},tools.event=S=>new tools.class.EventManager(S);function B(){this.events={testEvent:"testEvent"}}tools.class.HistoryManager=function(){let v=new Event("popstate"),m=new Event("locationchange"),h;this.back=i,this.clearState=d,this.forward=y,this.go=p,this.pushState=F,this.replaceState=D,this.setPath=f,P(),C();function f(A){h=A}function F(A,x,M){E(x),history.pushState(A,x,M),window.dispatchEvent(v)}function d(A,x){E(x),history.replaceState({path:"/"},x,"/"),window.dispatchEvent(v)}function D(A,x,M){E(x),history.replaceState(A,x,M),window.dispatchEvent(v)}function p(A){history.go(A)}function i(){history.back()}function y(){history.forward()}function E(A){let x=document.querySelector("title");A&&x&&(x.innerText=A)}function P(){window.addEventListener("popstate",()=>{window.dispatchEvent(m)})}function C(){history.state===null?D(h,"",h):window.dispatchEvent(m)}},tools.history=S=>new tools.class.HistoryManager(S);tools.class.IPFS=function(){},tools.ipfs=S=>new tools.class.IPFS(S);tools.class.ObjectManager=function(){let v={};this.get=h=>v[h],this.save=m,this.remove=h=>delete v[h],this.getLibrary=()=>v,this.clearLibrary=()=>v={};function m(h,f){let F=f||h.constructor.name;v[F]=h}},tools.object=S=>new tools.class.ObjectManager(S);tools.class.RouterManager=function(v={}){let m=this,h=object.get("utils"),{historyManager:f}=v;if(!f){alert("RouterManager: the dependency historyManager instance is a required prop.");return}window.addEventListener("locationchange",I);let F={name:"",path:"",from:{name:"",path:""},to:{name:"",path:""},params:{},query:""},d=[];this.add=D,this.back=A,this.current=F,this.go=M,this.hash="",this.next=x,this.push=g,this.replace=H,this.routes=y;function D(a){if(a.constructor.name==="Array"&&a.length){if(!i(a)||!p(a))return;a.forEach(w=>{if(w.constructor.name==="Object"){let b=!1;d.forEach(Y=>{(Y.path===w.path||Y.alias===w.path)&&(b=!0)}),b||d.push(w)}})}}function p(a){let w=[...new Map(a.map(Y=>[Y.name,Y])).values()],b=[...new Map(a.map(Y=>[Y.path,Y])).values()];return!(w.length<a.length||b.length<a.length)}function i(a){return!!a.every(b=>b.constructor.name==="Object"&&"path"in b&&typeof b.path=="string"&&b.path.trim()!=="")}function y(a){if(!a)return d;if(d.length>0){D(a);return}if(Array.isArray(a)&&a.length){if(!i(a)||!p(a))return;d=a.concat(d);let{matched:w,path:b}=C({path:location.pathname});w&&f.setPath(b);return}}function E(a){return a.path===m.current.path}function P(a){if(!d.length)return!1;if(a&&a.constructor.name==="Object"){let w=[{name:"path",type:"String"},{name:"name",type:"String"},{name:"params",type:"Object"},{name:"query",type:"String"},{name:"hash",type:"String"}],b=[];return!!Object.entries(a).every(O=>{let e=w.filter(o=>o.name===O[0]&&o.type===O[1].constructor.name);return e.length||b.push(O),e.length>0})}return!1}function C({path:a,name:w}){let b=d.find(O=>O.path===a||O.path+"/"===a||O.name===w);if(b)return{matched:!0,path:b.path};if(a){let O=d.find(e=>e.alias===a||e.alias===a+"/");if(O)return{matched:!0,path:O.alias}}let Y=d.find(O=>O.notfound);return Y?{matched:!0,path:Y.path}:{matched:!1}}function A(){f.back()}function x(){f.forward()}function M(a){!Number.isInteger(a)||f.go(a)}function g(a){if(P(a)){if(E(a))return;let{matched:w,path:b}=C(a);w&&($(a,!0),f.pushState(b,"",b))}}function H(a){f.replaceState(a,"",a.path)}function L(){Object.prototype.hasOwnProperty.call(m.current,"action")&&m.current.action.constructor.name==="Function"&&m.current.action()}function I(){let a=d.find(w=>w.path===history.state||w.alias===history.state);$(a),L()}function $(a,w){w&&(m.current=F),m.current=h.extend(!0,m.current,a)}},tools.router=S=>new tools.class.RouterManager(S);tools.class.String=function(){"use strict";this.filterArray=v,this.findInArray=m,this.getSearchFunction=h;function v(d,D,p,i){let y=h(i);return d.filter(E=>y(p(E),D))}function m(d,D,p,i){let y=h(i);return d.find(E=>y(p(E),D))}function h(d){switch(d){case"contains":return f;case"equals":return F;default:return()=>!0}}function f(d,D){return d.toLowerCase().includes(D.toLowerCase())}function F(d,D){return d.toLowerCase()===D.toLowerCase()}},tools.string=S=>new tools.class.String(S);tools.class.Utilities=function(){this.clone=h,this.extend=v,this.formatPercentage=p,this.getUniqueId=m,this.isArray=F,this.isNumber=D,this.isObject=f,this.isString=d;function v(){let i={},y=!1,E=0,P=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(y=arguments[0],E++);function C(M){for(var g in M)Object.prototype.hasOwnProperty.call(M,g)&&(y&&f(M[g])?i[g]=v(!0,i[g],M[g]):y&&F(M[g])?A(M[g],i,g):i[g]=M[g])}function A(M,g,H){g[H]=[],M.forEach((L,I)=>{y&&f(L)?g[H][I]=v(!0,g[H][I],L):y&&F(L)?A(L,g[H],I):g[H][I]=L})}for(;E<P;E++){var x=arguments[E];C(x)}return i}function m(i){return i=i&&!isNaN(i)?i:1e5,Math.floor(Math.random()*i)}function h(i){return v(!0,{},i)}function f(i){return Object.prototype.toString.call(i)==="[object Object]"}function F(i){return Object.prototype.toString.call(i)==="[object Array]"}function d(i){return typeof i=="string"||i instanceof String||Object.prototype.toString.call(i)==="[object String]"}function D(i){return typeof i=="number"&&i===i&&i!==1/0&&i!==-1/0}function p(i,y=0){return D(i)?(i*100).toFixed(y)+"%":""}},tools.utils=S=>new tools.class.Utilities(S);
return tools;}
//# sourceMappingURL=mambo-tools-min-v11-16-22-17-51.js.map
