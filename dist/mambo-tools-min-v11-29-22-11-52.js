/******************************************
*  Copyright 2022 Alejandro Sebastian Scotti, Scotti Corp.
*
*  Licensed under the Apache License, Version 2.0 (the "License");
*  you may not use this file except in compliance with the License.
*  You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
*  Unless required by applicable law or agreed to in writing, software
*  distributed under the License is distributed on an "AS IS" BASIS,
*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*  See the License for the specific language governing permissions and
*  limitations under the License.

*  @author Alejandro Sebastian Scotti
*  @version v11-29-22-11-52
*******************************************/
function mamboTools() { const tools = {class:{}};
tools.class.APIManager=function(g){let k,f,u={};this.delete=j,this.get=m,this.getCache=i,this.getFile=D,this.getFileContent=b,this.getJSON=a,this.getXML=p,this.head=E,this.patch=P,this.post=F,this.postJSON=Y,this.put=C,l();async function j(n,t){let r={method:"DELETE"};return delete t?.method,r=tools.utils().extend(!0,r,t),w(await d(n,r),{response:!0})}async function m(n,t){let r={url:n};return delete t?.method,r=tools.utils().extend(!0,r,t),w(await d(n,r),{response:!0})}async function D(n,t){let r={};delete t?.method,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return w(await d(n,r,c),{...t,url:n},"blob",c)}async function b(n,t){let r={};delete t?.method,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return w(await d(n,r,c),{...t,url:n},"text",c)}async function a(n,t){let r={headers:{Accept:"application/json"}};delete t?.method,delete t?.headers?.Accept,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return w(await d(n,r,c),{...t,url:n},"json",c)}async function p(n,t){let r={headers:{Accept:"application/xml"}};delete t?.method,delete t?.headers?.Accept,delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return w(await d(n,r,c),{...t,url:n},"xml",c)}async function E(n,t){let r={method:"HEAD"};return delete t?.method,r=tools.utils().extend(!0,r,t),w(await d(n,r),{response:!0})}async function P(n,t){let r={method:"PATCH"};return tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,r=tools.utils().extend(!0,r,t),w(await d(n,r),{response:!0})}async function F(n,t){let r={method:"POST"};return tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,r=tools.utils().extend(!0,r,t),w(await d(n,r),{response:!0})}async function Y(n,t){let r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}};tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,delete t?.headers?.Accept,delete t?.headers?.["Content-Type"],delete t?.response,r=tools.utils().extend(!0,r,t);let c=e(n,r);return w(await d(n,r,c),{...t,url:n},"json",c)}async function C(n,t){let r={method:"PUT"};return tools.utils().isObject(t?.body)&&(t.body=JSON.stringify(t.body)),delete t?.method,r=tools.utils().extend(!0,r,t),w(await d(n,r),{response:!0})}async function w(n,t,r,c){let x,I;if(n&&(x=n.clone()),O(n,t.url,c).catch(R=>L("api_error",R)),y(t.url,c))return $(t.url,c);if(t?.response)return x;if(r==="json")return I=n.ok?S(t?.format,x):{},o(t,c,I),I;if(r==="blob")return I=n.ok?x.blob():{},o(t,c,I),I;if(r==="text")return I=n.ok?x.text():{},o(t,c,I),I;if(r==="xml")return I=n.ok?s(t?.format,x):new DOMParser().parseFromString("","text/xml"),o(t,c,I),I}async function d(n,t,r){let c={url:n,options:{method:"GET",signal:AbortSignal.timeout(k.timeout)}};if(delete t?.signal,c=tools.utils().extend(!0,c,{options:t}),A(t),h(t.cached,n),!(r&&y(n,r)))try{return await _(c)}catch(x){return H(x)}}async function _({url:n,options:t}){L("api_loadstart",!0);let r=await fetch(n,t),c=await H(r);return c||r}function H(n){return new Promise((t,r)=>{if(n.name){let c={statusText:n.message,ok:!1,status:404};t(new Response("Error",c))}n.ok?t(!1):t(n)})}async function s(n,t){return n==="string"?(await t.text()).replace(/[\u00A0-\u9999<>\&]/g,function(c){return"&#"+c.charCodeAt(0)+";"}):n==="xml"?new DOMParser().parseFromString(await t.text(),"text/xml"):t.text()}async function S(n,t){return n==="string"?JSON.stringify(await t.json()):n==="pretty"?JSON.stringify(await t.json(),null,2):t.json()}async function O(n,t,r){let c=!1,x={loaded:0,total:0,percentage:100,complete:!0,content:null,cancel:()=>{f.remove(),c=!0}};if(y(t,r)){L("api_progress",x),L("api_load",!0);return}let I=n.body.getReader(),R=n.headers.get("Content-Length")||0,T=0,q=[];for(;;){let{done:J,value:U}=await I.read();if(J||c){x.complete=J,L("api_progress",x),L("api_load",!0),f.remove();break}q.push(U),T+=U.length,R===0&&(R=T),x.loaded=T,x.total=R,x.percentage=T/R*100,x.complete=J,x.content=q,L("api_progress",x)}}function A(n){f=document.createElement("div"),n?.events&&n.events(v()),L("api_loadstart",!1),L("api_load",!1)}function v(){let n=["api_error","api_load","api_loadstart","api_progress"],t={};return n.forEach(r=>{let c=r.split("_")[1];t[c]=x=>{N(r,I=>x(I))}}),t}function N(n,t){f.addEventListener(n,r=>t(r.detail))}function L(n,t){f.dispatchEvent(new CustomEvent(n,{detail:t}))}function e(n,t){return btoa(n+JSON.stringify(t))}function o(n,t,r){(k.cache&&n.cached!==!1||n.cached===!0)&&(u[n.url]||(u[n.url]={}),u[n.url][t]=r)}function y(n,t){return!!(u[n]&&u[n][t])}function h(n,t){n===!1&&u[t]&&delete u[t]}function $(n,t){return u[n][t]}function i(){return u}function l(){k={timeout:5e3},g&&(k=tools.utils().extend(!0,k,g))}},tools.api=M=>new tools.class.APIManager(M);tools.class.DateManager=function(){let g=this,k=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"];this.add=P,this.cloneDate=O,this.createDate=D,this.createInterval=F,this.endOf=S,this.format=m,this.getDate=Y,this.getDayName=p,this.getToday=j,this.isAfter=d,this.isSameOrAfter=_,this.isBefore=C,this.isSame=H,this.isSameOrBefore=w,this.isDate=v,this.startOf=s;function j(){let e=new Date;return e.setHours(0,0,0,0),e}function m(e,o){if(!v(e)||!N(o))return"";let y=o.match(k),h="";return y.forEach($=>{let i="";switch($){case"H":i=b(e,!1);break;case"HH":i=A(b(e,!1),2);break;case"h":i=b(e,!0);break;case"hh":i=A(b(e,!0),2);break;case"m":i=e.getMinutes();break;case"mm":i=A(e.getMinutes(),2);break;case"a":i=a(e);break;case"A":i=a(e).toUpperCase();break;case"D":i=e.getDate();break;case"DD":i=A(e.getDate(),2);break;case"ddd":i=p(e.getDay()).substring(0,3);break;case"dddd":i=p(e.getDay());break;case"M":i=e.getMonth()+1;break;case"MM":i=A(e.getMonth()+1,2);break;case"MMM":i=E(e.getMonth()).substring(0,3);break;case"MMMM":i=E(e.getMonth());break;case"YY":i=e.getFullYear().toString().slice(-2);break;case"YYYY":i=e.getFullYear();break;default:i=$}h+=i}),h}function D(e,o){if(!N(e)||!N(o))return null;let y=0,h={y:0,M:0,d:1,h:0,m:0,s:0,ms:0},$=o.match(k),i=0,l=e;for(let n=0,t=$.length;n<t;n++){let r=$[n];switch(r){case"H":if(/^(1\d|2[0-3])$/g.test(l.substring(0,2)))i=2;else if(/^(\d)$/g.test(l.substring(0,1)))i=1;else return null;h.h=parseInt(l.substring(0,i));break;case"HH":if(/^([0-1]\d|2[0-3])$/g.test(l.substring(0,2)))i=2;else return null;h.h=parseInt(l.substring(0,i));break;case"h":if(/^(1[0-2])$/g.test(l.substring(0,2)))i=2;else if(/^(\d)$/g.test(l.substring(0,1)))i=1;else return null;h.h=parseInt(l.substring(0,i));break;case"hh":if(/^([0]\d|1[0-2])$/g.test(l.substring(0,2)))i=2;else return null;h.h=parseInt(l.substring(0,i));break;case"m":if(/^([1-5]\d)$/g.test(l.substring(0,2)))i=2;else if(/^(\d)$/g.test(l.substring(0,1)))i=1;else return null;h.m=parseInt(l.substring(0,i));break;case"mm":if(/^([0-5]\d)$/g.test(l.substring(0,2)))i=2;else return null;h.m=parseInt(l.substring(0,i));break;case"a":case"A":/^(am)$/gi.test(l.substring(0,2))?(i=2,h.h=h.h===12?0:h.h):/^(pm)$/gi.test(l.substring(0,2))?(i=2,h.h=h.h<12?h.h+12:h.h):i=0;break;case"D":if(/^([1-2]\d|3[0-1])$/g.test(l.substring(0,2)))i=2;else if(/^([1-9])$/g.test(l.substring(0,1)))i=1;else return null;h.d=parseInt(l.substring(0,i));break;case"DD":if(/^(0[1-9]|[1-2]\d|3[0-1])$/g.test(l.substring(0,2)))i=2;else return null;h.d=parseInt(l.substring(0,i));break;case"M":if(/^(1[0-2])$/g.test(l.substring(0,2)))i=2;else if(/^([1-9])$/g.test(l.substring(0,1)))i=1;else return null;h.M=parseInt(l.substring(0,i))-1;break;case"MM":if(/^(0[1-9]|1[0-2])$/g.test(l.substring(0,2)))i=2;else return null;h.M=parseInt(l.substring(0,i))-1;break;case"MMM":if(y=u.findIndex(c=>c.toUpperCase()===l.substring(0,3).toUpperCase()),y<0)return null;i=3,h.M=y;break;case"MMMM":if(y=u.findIndex(c=>c.toUpperCase()===l.substring(0,c.length).toUpperCase()),y<0)return null;i=u[y].length,h.M=y;break;case"YY":if(/^(\d{2})$/g.test(l.substring(0,2)))i=2;else return null;h.y=parseInt(l.substring(0,i));break;case"YYYY":if(/^(\d{4})$/g.test(l.substring(0,4)))i=4;else return null;h.y=parseInt(l.substring(0,i));break;default:i=r.length;break}l=l.slice(i)}return new Date(h.y,h.M,h.d,h.h,h.m,h.s,h.ms)}function b(e,o){let y=e.getHours();return o&&(y=y%12,y=y||12),y}function a(e){return e.getHours()>=12?"pm":"am"}function p(e){return f[e]}function E(e){return u[e]}function P(e,o,y){if(!v(e)||!L(o)||!N(y))return e;switch(y){case"minutes":case"m":e.setMinutes(e.getMinutes()+o);break;case"hours":case"h":e.setHours(e.getHours()+o);break;case"days":case"d":e.setDate(e.getDate()+o);break;case"months":case"M":e.setMonth(e.getMonth()+o);break;case"years":case"Y":e.setFullYear(e.getFullYear()+o);break}return g}function F(e,o,y,h,$){if(!L(e)||!N(o)||!v(y)||!v(h))return[];let i=$?t=>m(t,$):t=>t,l=[],n=y;for(;C(n,h);)l.push(i(n)),P(n,e,o);return l}function Y(e,o){let y=v(e)?m(e,o):e;return D(y,o)}function C(e,o){return e<o}function w(e,o){return e<=o}function d(e,o){return e>o}function _(e,o){return e>=o}function H(e,o){return e.getTime()===o.getTime()}function s(e,o){if(!v(e)||!N(o))return e;switch(o){case"week":case"w":P(e,-e.getDay(),"d");break;case"month":case"M":P(e,-e.getDate()+1,"d");break;case"year":case"Y":s(e,"M").add(e,-e.getMonth(),"M");break;case"decade":s(e,"Y").add(e,-(e.getFullYear()%10),"Y");break;case"century":s(e,"decade").add(e,-(e.getFullYear()%100),"Y");break}return g}function S(e,o){if(!v(e)||!N(o))return e;switch(o){case"month":case"M":s(e,"M").add(e,1,"M").add(e,-1,"d");break;case"year":case"Y":s(e,"Y").add(e,1,"Y").add(e,-1,"d");break;case"decade":s(e,"decade").add(e,10,"Y").add(e,-1,"d");break;case"century":s(e,"century").add(e,100,"Y").add(e,-1,"d");break}return g}function O(e){return v(e)?new Date(e.getTime()):null}function A(e,o){return("0"+e).slice(-o)}function v(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function N(e){return typeof e=="string"||e instanceof String||Object.prototype.toString.call(e)==="[object String]"}function L(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}},tools.date=M=>new tools.class.DateManager(M);tools.class.EventManager=function(){let k=new B().events,f={};this.addEventListener=u,this.fireEvent=j,this.removeEventListener=m,D();function u(b,a,p){a in f?typeof p=="function"?f[a][b]?alert(`ScEvents: event listener "${b}" already exists. Please provide a listener with a unique name.`):f[a][b]=p:alert(`ScEvents: event listener "${b}" didn't provide a valid function type as a call back.`):alert(`ScEvents: event "${a}" does not exist. Please check available events in component ScEventsLibrary.`)}function j(b,a){if(b&&a){let p=f[b];if(p)for(let E in p)E in p&&p[E](a)}}function m(b,a){b&&a&&delete f[a][b]}function D(){for(let b in k)b in k&&(f[b]={})}},tools.event=M=>new tools.class.EventManager(M);function B(){this.events={testEvent:"testEvent"}}tools.class.HistoryManager=function(g){let k=new Event("popstate"),f=new Event("locationchange");this.back=b,this.clearState=j,this.forward=a,this.go=D,this.pushState=u,this.replaceState=m,E(),P();function u(F,Y,C){p(Y),history.pushState(F,Y,C),window.dispatchEvent(k)}function j(F,Y){p(Y),history.replaceState({path:"/"},Y,"/"),window.dispatchEvent(k)}function m(F,Y,C){p(Y),history.replaceState(F,Y,C),window.dispatchEvent(k)}function D(F){history.go(F)}function b(){history.back()}function a(){history.forward()}function p(F){let Y=document.querySelector("title");F&&Y&&(Y.innerText=F)}function E(){window.addEventListener("popstate",()=>{window.dispatchEvent(f)})}function P(){history.state===null?m(g,"",g):window.dispatchEvent(f)}},tools.history=M=>new tools.class.HistoryManager(M);tools.class.IPFS=function(){},tools.ipfs=M=>new tools.class.IPFS(M);tools.class.ObjectManager=function(){let g={};this.get=f=>g[f],this.save=k,this.remove=f=>delete g[f],this.getLibrary=()=>g,this.clearLibrary=()=>g={};function k(f,u){let j=u||f.constructor.name;g[j]=f}},tools.object=M=>new tools.class.ObjectManager(M);tools.class.RouterManager=function(){let g=this;window.addEventListener("locationchange",_);let k={name:"",path:"",from:{name:"",path:""},to:{name:"",path:""},params:{},query:""},f,u=[];this.add=j,this.back=P,this.current=k,this.go=Y,this.hash="",this.next=F,this.push=C,this.replace=w,this.routes=b;function j(s){if(s.constructor.name==="Array"&&s.length){if(!D(s)||!m(s))return;s.forEach(S=>{if(S.constructor.name==="Object"){let O=!1;u.forEach(A=>{(A.path===S.path||A.alias===S.path)&&(O=!0)}),O||u.push(S)}})}}function m(s){let S=[...new Map(s.map(A=>[A.name,A])).values()],O=[...new Map(s.map(A=>[A.path,A])).values()];return!(S.length<s.length||O.length<s.length)}function D(s){return!!s.every(O=>O.constructor.name==="Object"&&"path"in O&&typeof O.path=="string"&&O.path.trim()!=="")}function b(s){if(!s)return u;if(u.length>0){j(s);return}if(Array.isArray(s)&&s.length){if(!D(s)||!m(s))return;if(u=s.concat(u),!f){let{matched:S,path:O}=E({path:location.pathname});S&&(f=tools.history(O))}return}}function a(s){return s.path===g.current.path}function p(s){if(!u.length)return!1;if(s&&s.constructor.name==="Object"){let S=[{name:"path",type:"String"},{name:"name",type:"String"},{name:"params",type:"Object"},{name:"query",type:"String"},{name:"hash",type:"String"}],O=[];return!!Object.entries(s).every(v=>{let N=S.filter(L=>L.name===v[0]&&L.type===v[1].constructor.name);return N.length||O.push(v),N.length>0})}return!1}function E({path:s,name:S}){let O=u.find(v=>v.path===s||v.path+"/"===s||v.name===S);if(O)return{matched:!0,path:O.path};if(s){let v=u.find(N=>N.alias===s||N.alias===s+"/");if(v)return{matched:!0,path:v.alias}}let A=u.find(v=>v.notfound);return A?{matched:!0,path:A.path}:{matched:!1}}function P(){f.back()}function F(){f.forward()}function Y(s){!Number.isInteger(s)||f.go(s)}function C(s){if(p(s)){if(a(s))return;let{matched:S,path:O}=E(s);S&&(H(s,!0),f.pushState(O,"",O))}}function w(s){f.replaceState(s,"",s.path)}function d(){Object.prototype.hasOwnProperty.call(g.current,"action")&&g.current.action.constructor.name==="Function"&&g.current.action()}function _(){let s=u.find(S=>S.path===history.state||S.alias===history.state);H(s),d()}function H(s,S){S&&(g.current=k),g.current=tools.utils().extend(!0,g.current,s)}},tools.router=M=>new tools.class.RouterManager(M);tools.class.String=function(){"use strict";this.filterArray=g,this.findInArray=k,this.getSearchFunction=f;function g(m,D,b,a){let p=f(a);return m.filter(E=>p(b(E),D))}function k(m,D,b,a){let p=f(a);return m.find(E=>p(b(E),D))}function f(m){switch(m){case"contains":return u;case"equals":return j;default:return()=>!0}}function u(m,D){return m.toLowerCase().includes(D.toLowerCase())}function j(m,D){return m.toLowerCase()===D.toLowerCase()}},tools.string=M=>new tools.class.String(M);tools.class.Utilities=function(){this.clone=f,this.extend=g,this.formatPercentage=b,this.getUniqueId=k,this.isArray=j,this.isNumber=D,this.isObject=u,this.isString=m;function g(){let a={},p=!1,E=0,P=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(p=arguments[0],E++);function F(w){for(var d in w)Object.prototype.hasOwnProperty.call(w,d)&&(p&&u(w[d])?a[d]=g(!0,a[d],w[d]):p&&j(w[d])?Y(w[d],a,d):a[d]=w[d])}function Y(w,d,_){d[_]=[],w.forEach((H,s)=>{p&&u(H)?d[_][s]=g(!0,d[_][s],H):p&&j(H)?Y(H,d[_],s):d[_][s]=H})}for(;E<P;E++){var C=arguments[E];F(C)}return a}function k(a){return a=a&&!isNaN(a)?a:1e5,Math.floor(Math.random()*a)}function f(a){return g(!0,{},a)}function u(a){return Object.prototype.toString.call(a)==="[object Object]"}function j(a){return Object.prototype.toString.call(a)==="[object Array]"}function m(a){return typeof a=="string"||a instanceof String||Object.prototype.toString.call(a)==="[object String]"}function D(a){return typeof a=="number"&&a===a&&a!==1/0&&a!==-1/0}function b(a,p=0){return D(a)?(a*100).toFixed(p)+"%":""}},tools.utils=M=>new tools.class.Utilities(M);
return tools;}
//# sourceMappingURL=mambo-tools-min-v11-29-22-11-52.js.map
